<?php

namespace PayXpert\Connect2Pay\Tests;

class Connect2PayAPIMock {

  public static function getPaymentStatusMock() {
    return json_decode(trim(self::getPaymentStatusJSONMock()), false);
  }

  public static function getAccountInformationMock() {
    return json_decode(trim(self::getAccountInformationJSONMock()), false);
  }

  public static function getPaymentStatusJSONMock() {
    return <<<EOS
{"transactions":[{"date":1513766063000,"amount":3999,"paymentMethod":"DirectDebit","paymentMeanInfo":{"bankAccount":{"holderName":"John Snow","bankName":"BNP","iban":"NL29ABNA050988XXXX","bic":"ABNANL2AXXX","countryCode":"NL","sepaMandate":{"description":"Unit Test Mandate","status":"SIGNED","type":"RECURRENT","scheme":"CORE","signatureType":"SMS","phoneNumber":"+34123456789","signedAt":1513766041000,"createdAt":1513766041000,"lastUsedAt":1513766063000,"downloadUrl":"https://fake.url/mandate/man654321/dl"}},"statementDescriptor":"Test statement descriptor","collectedAt":1513900800000},"shopper":{"name":"John Snow","address":"Calle Mallorca, 66","zipcode":"08008","city":"Barcelona","state":"Barcelona","countryCode":"ES","email":"dev@payxpert.com","ipAddress":"127.0.0.1"},"operation":"submission","resultCode":"000","resultMessage":"Transaction successfully completed","status":"Authorized","transactionID":"1v0masio6c-1nrr"},{"refTransactionID":"1v0masio6c-1nrr","date":1513769663000,"amount":3999,"paymentMethod":"DirectDebit","paymentMeanInfo":{"bankAccount":{"holderName":"John Snow","bankName":"BNP","iban":"NL29ABNA050988XXXX","bic":"ABNANL2AXXX","countryCode":"NL","sepaMandate":{"description":"Unit Test Mandate","status":"SIGNED","type":"RECURRENT","scheme":"CORE","signatureType":"SMS","phoneNumber":"+34123456789","signedAt":1513766041000,"createdAt":1513766041000,"lastUsedAt":1513766063000,"downloadUrl":"https://fake.url/mandate/man654321/dl"}}},"shopper":{"name":"John Snow","address":"Calle Mallorca, 66","zipcode":"08008","city":"Barcelona","state":"Barcelona","countryCode":"ES","email":"dev@payxpert.com","ipAddress":"127.0.0.1"},"operation":"cancel","resultCode":"000","resultMessage":"Transaction successfully completed","status":"Authorized","transactionID":"1v0masio6c-xdfv"},{"refTransactionID":"1v0masio6c-1nrr","date":1514148312000,"amount":2546,"paymentMethod":"DirectDebit","paymentMeanInfo":{"bankAccount":{"holderName":"John Snow","bankName":"BNP","iban":"NL29ABNA050988XXXX","bic":"ABNANL2AXXX","countryCode":"NL","sepaMandate":{"description":"Unit Test Mandate","status":"SIGNED","type":"RECURRENT","scheme":"CORE","signatureType":"SMS","phoneNumber":"+34123456789","signedAt":1513766041000,"createdAt":1513766041000,"lastUsedAt":1513766063000,"downloadUrl":"https://fake.url/mandate/man654321/dl"}},"statementDescriptor":"Test statement descriptor","collectedAt":1514246400000},"shopper":{"name":"John Snow","address":"Calle Mallorca, 66","zipcode":"08008","city":"Barcelona","state":"Barcelona","countryCode":"ES","email":"dev@payxpert.com","ipAddress":"127.0.0.1"},"operation":"submission","resultCode":"000","resultMessage":"Transaction successfully completed","status":"Authorized","transactionID":"1v0masio6c-k3ln"},{"refTransactionID":"1v0masio6c-k3ln","date":1514250121000,"amount":2546,"paymentMethod":"DirectDebit","paymentMeanInfo":{"bankAccount":{"holderName":"John Snow","bankName":"BNP","iban":"NL29ABNA050988XXXX","bic":"ABNANL2AXXX","countryCode":"NL","sepaMandate":{"description":"Unit Test Mandate","status":"SIGNED","type":"RECURRENT","scheme":"CORE","signatureType":"SMS","phoneNumber":"+34123456789","signedAt":1513766041000,"createdAt":1513766041000,"lastUsedAt":1513766063000,"downloadUrl":"https://fake.url/mandate/man654321/dl"}},"statementDescriptor":"Test statement descriptor","collectedAt":1514246400000},"shopper":{"name":"John Snow","address":"Calle Mallorca, 66","zipcode":"08008","city":"Barcelona","state":"Barcelona","countryCode":"ES","email":"dev@payxpert.com","ipAddress":"127.0.0.1"},"operation":"collection","resultCode":"000","resultMessage":"Transaction successfully completed","status":"Authorized","transactionID":"1v0masio6c-xc3g"},{"refTransactionID":"1v0masio6c-xc3g","date":1514552745000,"amount":2546,"paymentMethod":"DirectDebit","paymentMeanInfo":{"bankAccount":{"holderName":"John Snow","bankName":"BNP","iban":"NL29ABNA050988XXXX","bic":"ABNANL2AXXX","countryCode":"NL","sepaMandate":{"description":"Unit Test Mandate","status":"SIGNED","type":"RECURRENT","scheme":"CORE","signatureType":"SMS","phoneNumber":"+34123456789","signedAt":1513766041000,"createdAt":1513766041000,"lastUsedAt":1513766063000,"downloadUrl":"https://fake.url/mandate/man654321/dl"}}},"shopper":{"name":"John Snow","address":"Calle Mallorca, 66","zipcode":"08008","city":"Barcelona","state":"Barcelona","countryCode":"ES","email":"dev@payxpert.com","ipAddress":"127.0.0.1"},"operation":"refund_request","resultCode":"000","resultMessage":"Transaction successfully completed","status":"Authorized","transactionID":"1v0masio6c-gb3c"}],"status":"Authorized","merchantToken":"JPhorvt8Zj8zH1eIrWNqmw","operation":"submission","errorCode":"000","errorMessage":"Transaction successfully completed","orderID":"1234567D1","currency":"EUR","amount":3999}
EOS;
  }

  public static function getAccountInformationJSONMock() {
    return <<<EOS
{"apiVersion":"002.60","name":"Unit Test Website","displayTerms":false,"termsUrl":"","supportUrl":"https://www.payxpert.com/support","maxAttempts":1,"notificationSenderName":"PayXpert Payment Service","notificationSenderEmail":"support@payxpert.com","notificationOnSuccess":true,"notificationOnFailure":false,"merchantNotification":true,"merchantNotificationTo":"support@payxpert.com","merchantNotificationLang":"fr","paymentMethods":[{"paymentMethod":"DirectDebit","currencies":["EUR"],"defaultOperation":"submission"},{"paymentMethod":"WeChat","currencies":["USD","EUR"],"defaultOperation":"sale"},{"paymentMethod":"BankTransfer","paymentNetwork":"dragonpay","currencies":["EUR"],"defaultOperation":"sale"},{"paymentMethod":"BankTransfer","paymentNetwork":"trustly","currencies":["EUR"],"defaultOperation":"sale"},{"paymentMethod":"CreditCard","currencies":["EUR","USD"],"defaultOperation":"authorize","options":[{"name":"3dsMode","value":"honor"}]},{"paymentMethod":"BankTransfer","paymentNetwork":"sofort","currencies":["EUR"],"defaultOperation":"sale"},{"paymentMethod":"BankTransfer","paymentNetwork":"eps","currencies":["EUR"],"defaultOperation":"sale"},{"paymentMethod":"Line","currencies":["TWD"],"defaultOperation":"sale"},{"paymentMethod":"BankTransfer","paymentNetwork":"ideal","currencies":["EUR"],"defaultOperation":"sale"},{"paymentMethod":"BankTransfer","paymentNetwork":"poli","currencies":["EUR"],"defaultOperation":"sale"},{"paymentMethod":"BankTransfer","paymentNetwork":"przelewy24","currencies":["PLN"],"defaultOperation":"sale"},{"paymentMethod":"ToditoCash","currencies":["MXN","EUR"],"defaultOperation":"sale"},{"paymentMethod":"BankTransfer","paymentNetwork":"giropay","currencies":["EUR"],"defaultOperation":"sale"}]}
EOS;
  }
}